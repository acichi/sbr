<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Boxicons -->
  <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet' />
  <!-- My CSS -->
  <link rel="stylesheet" href="style.css" />

  <title>Admin Dashboard</title>
</head>
<body>
  <!-- SIDEBAR -->
  <section id="sidebar"><br /><br /><br />
    <a href="#" class="brand">
      <img src="logo2.png" alt="SBR Logo" width="125" height="125" />
      <img src="prof.png" alt="SBR Logo" width="125" height="125" />
    </a>
    <ul class="side-menu top">
      <li class="active">
        <a href="#">
          <i class='bx bxs-dashboard'></i>
          <span class="text">Dashboard</span>
        </a>
      </li>
      <li>
        <a href="#Reservations">
          <i class='bx bxs-shopping-bag-alt'></i>
          <span class="text">Reservations</span>
        </a>
      </li>
      <li>
        <a href="#Reports">
          <i class='bx bxs-doughnut-chart'></i>
          <span class="text">Reports</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-message-dots'></i>
          <span class="text">Message</span>
        </a>
      </li>
      <li>
        <a href="#">
          <i class='bx bxs-group'></i>
          <span class="text">Accounts</span>
        </a>
      </li>
    </ul>
    <ul class="side-menu">
      <li>
        <a href="#">
          <i class='bx bxs-cog'></i>
          <span class="text">Map Settings</span>
        </a>
      </li>
      <li>
        <a href="#" class="logout">
          <i class='bx bxs-log-out-circle'></i>
          <span class="text">Logout</span>
        </a>
      </li>
    </ul>
  </section>
  <!-- SIDEBAR -->

  <!-- CONTENT -->
  <section id="content">
    <!-- NAVBAR -->
    <nav>
      <i class='bx bx-menu'></i>
      <a href="#" class="nav-link">Shelton Beach</a>
      <form action="#">
        <div class="form-input">
          <input type="search" placeholder="Search..." />
          <button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
        </div>
      </form>
      <input type="checkbox" id="switch-mode" hidden />
      <label for="switch-mode" class="switch-mode"></label>
      <a href="#" class="notification">
        <i class='bx bxs-bell'></i>
        <span class="num">8</span>
      </a>
      <a href="#" class="profile">
        <img src="prof.png" />
      </a>
    </nav>
    <!-- NAVBAR -->

    <!-- MAIN -->
    <main>
      <div class="head-title">
        <div class="left">
          <h1>Dashboard</h1>
          <ul class="breadcrumb">
            <li><a class="active" href="#">Welcome back Admin Aci!</a></li>
          </ul>
        </div>
        <a href="#" class="btn-download">
          <i class='bx bxs-cloud-download'></i>
          <span class="text">Download PDF</span>
        </a>
      </div>

      <ul class="box-info">
        <li>
          <i class='bx bxs-calendar-check'></i>
          <span class="text">
            <h3>1020</h3>
            <p>Total Reservations</p>
          </span>
        </li>
        <li>
          <i class='bx bxs-group'></i>
          <span class="text">
            <h3>2834</h3>
            <p>Total Guests</p>
          </span>
        </li>
        <li>
          <i class='bx bxs-dollar-circle'></i>
          <span class="text">
            <h3>$2543</h3>
            <p>Total Sales</p>
          </span>
        </li>
      </ul>

      <div class="table-data" id="Reservations">
        <div class="order">
          <div class="head">
            <h3>Recent Reservations</h3>
            <i class='bx bx-search'></i>
            <i class='bx bx-filter'></i>
          </div>
          <table>
            <thead>
              <tr>
                <th>User</th>
                <th>Date Order</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><img src="img/people.png" /><p>John Doe</p></td>
                <td>01-10-2021</td>
                <td><span class="status completed">Completed</span></td>
              </tr>
              <tr>
                <td><img src="img/people.png" /><p>John Doe</p></td>
                <td>01-10-2021</td>
                <td><span class="status pending">Pending</span></td>
              </tr>
              <tr>
                <td><img src="img/people.png" /><p>John Doe</p></td>
                <td>01-10-2021</td>
                <td><span class="status process">Process</span></td>
              </tr>
              <tr>
                <td><img src="img/people.png" /><p>John Doe</p></td>
                <td>01-10-2021</td>
                <td><span class="status pending">Pending</span></td>
              </tr>
              <tr>
                <td><img src="img/people.png" /><p>John Doe</p></td>
                <td>01-10-2021</td>
                <td><span class="status completed">Completed</span></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Sales Graph Section -->
        <div class="todo">
          <div class="head" style="align-items: center;">
            <h3>Sales Overview</h3>
            <select id="timeRangeSelect" style="margin-left:auto; padding: 5px 10px; border-radius:4px; border: 1px solid #ccc; font-weight: 600;">
              <option value="weekly">Weekly</option>
              <option value="monthly" selected>Monthly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>
          <div id="totalSales" style="font-size: 1.2rem; font-weight: 700; margin: 10px 0; color: #4bc0c0;">
            Total Sales: $2,543
          </div>
          <canvas id="salesChart" width="400" height="300"></canvas>
        </div>
      </div>
    </main>
    <!-- MAIN -->
  </section>
  <!-- CONTENT -->

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById('salesChart').getContext('2d');
    const totalSalesEl = document.getElementById('totalSales');
    const timeRangeSelect = document.getElementById('timeRangeSelect');

    const dataSets = {
      weekly: {
        labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
        data: [300, 400, 350, 450, 500, 600, 550]
      },
      monthly: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
        data: [1200, 1500, 1800, 2100, 1900, 2200, 2543]
      },
      yearly: {
        labels: ['2019', '2020', '2021', '2022', '2023'],
        data: [15000, 18000, 20000, 22000, 25430]
      }
    };

    function formatCurrency(value) {
      return '$' + value.toLocaleString();
    }

    let currentView = 'monthly';

    const salesChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: dataSets[currentView].labels,
        datasets: [{
          label: 'Total Sales',
          data: dataSets[currentView].data,
          fill: true,
          backgroundColor: 'rgba(75, 192, 192, 0.2)',
          borderColor: '#4bc0c0',
          borderWidth: 2,
          tension: 0.3,
          pointRadius: 4,
          pointHoverRadius: 7,
        }]
      },
      options: {
        responsive: true,
        animation: {
          duration: 500,
          easing: 'easeInOutQuad'
        },
        plugins: {
          tooltip: {
            callbacks: {
              label: context => formatCurrency(context.parsed.y)
            }
          },
          legend: {
            labels: {
              font: {
                size: 14,
                weight: '600'
              }
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return formatCurrency(value);
              }
            },
            grid: {
              color: '#eee'
            }
          },
          x: {
            grid: {
              color: '#eee'
            }
          }
        }
      }
    });

    function updateChart(view) {
      currentView = view;
      salesChart.data.labels = dataSets[view].labels;
      salesChart.data.datasets[0].data = dataSets[view].data;
      salesChart.update();

      // Calculate total sales for the selected range and update text
      const total = dataSets[view].data.reduce((a, b) => a + b, 0);
      totalSalesEl.textContent = `Total Sales: ${formatCurrency(total)}`;
    }

    timeRangeSelect.addEventListener('change', (e) => {
      updateChart(e.target.value);
    });

    // Initialize total sales text on load
    updateChart(currentView);
  </script>




  <script src="script.js"></script>
</body>
</html>
